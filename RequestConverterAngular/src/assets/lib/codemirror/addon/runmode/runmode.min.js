!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(b){"use strict";b.runMode=function(e,t,n,o){for(var c,u,l,r=b.getMode(b.defaults,t),f=o&&o.tabSize||b.defaults.tabSize,d=(n.appendChild&&(c=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<9),l=0,(u=n).textContent="",n=function(e,t){if("\n"==e)return u.appendChild(document.createTextNode(c?"\r":e)),void(l=0);for(var n,o="",r=0;;){var d=e.indexOf("\t",r);if(-1==d){o+=e.slice(r),l+=e.length-r;break}l+=d-r,o+=e.slice(r,d);var a=f-l%f;l+=a;for(var i=0;i<a;++i)o+=" ";r=d+1}t?((n=u.appendChild(document.createElement("span"))).className="cm-"+t.replace(/ +/g," cm-"),n.appendChild(document.createTextNode(o))):u.appendChild(document.createTextNode(o))}),b.splitLines(e)),a=o&&o.state||b.startState(r),i=0,s=d.length;i<s;++i){i&&n("\n");var p=new b.StringStream(d[i],null,{lookAhead:function(e){return d[i+e]},baseToken:function(){}});for(!p.string&&r.blankLine&&r.blankLine(a);!p.eol();){var m=r.token(p,a);n(p.current(),m,i,p.start,a,r),p.start=p.pos}}}});