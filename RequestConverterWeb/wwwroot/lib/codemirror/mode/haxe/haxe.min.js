!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("haxe",function(e,t){var i=e.indentUnit;function n(e){return{type:e,style:"keyword"}}var r,e=n("keyword a"),a=n("keyword b"),o=n("keyword c"),_=n("operator"),l={type:"atom",style:"atom"},c={type:"attribute",style:"attribute"},u=n("typedef"),f={if:e,while:e,else:a,do:a,try:a,return:o,break:o,continue:o,new:o,throw:o,var:n("var"),inline:c,static:c,using:n("import"),public:c,private:c,cast:n("cast"),import:n("import"),macro:n("macro"),function:n("function"),catch:n("catch"),untyped:n("untyped"),callback:n("cb"),for:n("for"),switch:n("switch"),case:n("case"),default:n("default"),in:_,never:n("property_access"),trace:n("trace"),class:u,abstract:u,enum:u,interface:u,typedef:u,extends:u,implements:u,dynamic:u,true:l,false:l,null:l},s=/[+\-*&%=<>!?|]/;function d(e,t,n){return(t.tokenize=n)(e,t)}function p(e,t){for(var n,r=!1;null!=(n=e.next());){if(n==t&&!r)return 1;r=!r&&"\\"==n}}function m(e,t,n){return u=e,r=n,t}function v(e,t){var n,r,a=e.next();return'"'==a||"'"==a?d(e,t,(r=a,function(e,t){return p(e,r)&&(t.tokenize=v),m("string","string")})):/[\[\]{}\(\),;\:\.]/.test(a)?m(a):"0"==a&&e.eat(/x/i)?(e.eatWhile(/[\da-f]/i),m("number","number")):/\d/.test(a)||"-"==a&&e.eat(/\d/)?(e.match(/^\d*(?:\.\d*(?!\.))?(?:[eE][+\-]?\d+)?/),m("number","number")):t.reAllowed&&"~"==a&&e.eat(/\//)?(p(e,"/"),e.eatWhile(/[gimsu]/),m("regexp","string-2")):"/"==a?e.eat("*")?d(e,t,j):e.eat("/")?(e.skipToEnd(),m("comment","comment")):(e.eatWhile(s),m("operator",null,e.current())):"#"==a?(e.skipToEnd(),m("conditional","meta")):"@"==a?(e.eat(/:/),e.eatWhile(/[\w_]/),m("metadata","meta")):s.test(a)?(e.eatWhile(s),m("operator",null,e.current())):/[A-Z]/.test(a)?(e.eatWhile(/[\w_<>]/),m("type","variable-3",n=e.current())):(e.eatWhile(/[\w_]/),n=e.current(),(a=f.propertyIsEnumerable(n)&&f[n])&&t.kwAllowed?m(a.type,a.style,n):m("variable","variable",n))}function j(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=v;break}r="*"==n}return m("comment","comment")}var b={atom:!0,number:!0,variable:!0,string:!0,regexp:!0};function y(e,t,n,r,a,i){this.indented=e,this.column=t,this.type=n,this.prev=a,this.info=i,null!=r&&(this.align=r)}function D(e,t,n,r,a){var i=e.cc;for(x.state=e,x.stream=a,x.marked=null,x.cc=i,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((i.length?i.pop():W)(n,r)){for(;i.length&&i[i.length-1].lex;)i.pop()();return x.marked?x.marked:"variable"==n&&function(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return 1}(e,r)?"variable-2":"variable"==n&&function(e,t){if(/[a-z]/.test(t.charAt(0)))return;for(var n=e.importedtypes.length,r=0;r<n;r++)if(e.importedtypes[r]==t)return 1}(e,r)?"variable-3":t}}function q(e){for(var t=x.state,n=t.importedtypes;n;n=n.next)if(n.name==e)return;t.importedtypes={name:e,next:t.importedtypes}}var x={state:null,column:null,marked:null,cc:null};function h(){for(var e=arguments.length-1;0<=e;e--)x.cc.push(arguments[e])}function k(){return h.apply(null,arguments),!0}function B(e,t){for(var n=t;n;n=n.next)if(n.name==e)return 1}function w(e){var t=x.state;t.context?(x.marked="def",B(e,t.localVars)||(t.localVars={name:e,next:t.localVars})):t.globalVars&&!B(e,t.globalVars)&&(t.globalVars={name:e,next:t.globalVars})}var F={name:"this",next:null};function g(){x.state.context||(x.state.localVars=F),x.state.context={prev:x.state.context,vars:x.state.localVars}}function V(){x.state.localVars=x.state.context.vars,x.state.context=x.state.context.prev}function A(t,n){function e(){var e=x.state;e.lexical=new y(e.indented,x.stream.column(),t,null,e.lexical,n)}return e.lex=!0,e}function S(){var e=x.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function E(n){return function e(t){return t==n?k():";"==n?h():k(e)}}function W(e){return"@"==e?k($):"var"==e?k(A("vardef"),I,E(";"),S):"keyword a"==e?k(A("form"),z,W,S):"keyword b"==e?k(A("form"),W,S):"{"==e?k(A("}"),g,Z,S,V):";"==e?k():"attribute"==e?k(U):"function"==e?k(O):"for"==e?k(A("form"),E("("),A(")"),R,E(")"),S,W,S):"variable"==e?k(A("stat"),K):"switch"==e?k(A("form"),z,A("}","switch"),E("{"),Z,S,S):"case"==e?k(z,E(":")):"default"==e?k(E(":")):"catch"==e?k(A("form"),g,E("("),te,E(")"),W,S,V):"import"==e?k(H,E(";")):"typedef"==e?k(J):h(A("stat"),z,E(";"),S)}function z(e){return b.hasOwnProperty(e)||"type"==e?k(C):"function"==e?k(O):"keyword c"==e?k(M):"("==e?k(A(")"),M,E(")"),S,C):"operator"==e?k(z):"["==e?k(A("]"),T(M,"]"),S,C):"{"==e?k(A("}"),T(N,"}"),S,C):k()}function M(e){return e.match(/[;\}\)\],]/)?h():h(z)}function C(e,t){return"operator"==e&&/\+\+|--/.test(t)?k(C):"operator"==e||":"==e?k(z):";"!=e?"("==e?k(A(")"),T(z,")"),S,C):"."==e?k(L,C):"["==e?k(A("]"),z,E("]"),S,C):void 0:void 0}function U(e){return"attribute"==e?k(U):"function"==e?k(O):"var"==e?k(I):void 0}function $(e){return":"==e||"variable"==e?k($):"("==e?k(A(")"),T(G,")"),S,W):void 0}function G(e){if("variable"==e)return k()}function H(e,t){return"variable"==e&&/[A-Z]/.test(t.charAt(0))?(q(t),k()):"variable"==e||"property"==e||"."==e||"*"==t?k(H):void 0}function J(e,t){return"variable"==e&&/[A-Z]/.test(t.charAt(0))?(q(t),k()):"type"==e&&/[A-Z]/.test(t.charAt(0))?k():void 0}function K(e){return":"==e?k(S,W):h(C,E(";"),S)}function L(e){if("variable"==e)return x.marked="property",k()}function N(e){if("variable"==e&&(x.marked="property"),b.hasOwnProperty(e))return k(E(":"),z)}function T(t,n){function r(e){return","==e?k(t,r):e==n?k():k(E(n))}return function(e){return e==n?k():h(t,r)}}function Z(e){return"}"==e?k():h(W,Z)}function I(e,t){return"variable"==e?(w(t),k(P,Q)):k()}function Q(e,t){return"="==t?k(z,Q):","==e?k(I):void 0}function R(e,t){return"variable"==e?(w(t),k(X,z)):h()}function X(e,t){if("in"==t)return k()}function O(e,t){return"variable"==e||"type"==e?(w(t),k(O)):"new"==t?k(O):"("==e?k(A(")"),g,T(te,")"),S,P,W,V):void 0}function P(e){if(":"==e)return k(Y)}function Y(e){return"type"==e||"variable"==e?k():"{"==e?k(A("}"),T(ee,"}"),S):void 0}function ee(e){if("variable"==e)return k(P)}function te(e,t){if("variable"==e)return w(t),k(P)}return S.lex=V.lex=!0,{startState:function(e){e={tokenize:v,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new y((e||0)-i,0,"block",!1),localVars:t.localVars,importedtypes:["Int","Float","String","Void","Std","Bool","Dynamic","Array"],context:t.localVars&&{vars:t.localVars},indented:0};return t.globalVars&&"object"==typeof t.globalVars&&(e.globalVars=t.globalVars),e},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==u?n:(t.reAllowed=!("operator"!=u&&"keyword c"!=u&&!u.match(/^[\[{}\(,;:]$/)),t.kwAllowed="."!=u,D(t,n,u,r,e))},indent:function(e,t){if(e.tokenize!=v)return 0;var n=t&&t.charAt(0),e=e.lexical,r=(e="stat"==e.type&&"}"==n?e.prev:e).type,a=n==r;return"vardef"==r?e.indented+4:"form"==r&&"{"==n?e.indented:"stat"==r||"form"==r?e.indented+i:"switch"!=e.info||a?e.align?e.column+(a?0:1):e.indented+(a?0:i):e.indented+(/^(?:case|default)\b/.test(t)?i:2*i)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),e.defineMIME("text/x-haxe","haxe"),e.defineMode("hxml",function(){return{startState:function(){return{define:!1,inString:!1}},token:function(e,t){var n=e.peek(),r=e.sol();if("#"==n)return e.skipToEnd(),"comment";if(r&&"-"==n)return r="variable-2",e.eat(/-/),"-"==e.peek()&&(e.eat(/-/),r="keyword a"),"D"==e.peek()&&(e.eat(/[D]/),r="keyword c",t.define=!0),e.eatWhile(/[A-Z]/i),r;n=e.peek();return 0==t.inString&&"'"==n&&(t.inString=!0,e.next()),1==t.inString?(e.skipTo("'")||e.skipToEnd(),"'"==e.peek()&&(e.next(),t.inString=!1),"string"):(e.next(),null)},lineComment:"#"}}),e.defineMIME("text/x-hxml","hxml")});